#!/usr/bin/env node
var s=require("util"),i=s.promisify(require("child_process").exec),o=process.argv.slice(2).filter(t=>!t.startsWith("-"));async function c(){try{let{stdout:t}=await i("git remote get-url origin");return t.trim()}catch{return null}}(async function(){let t=o.find(e=>e.startsWith("http")||e.startsWith("git@")||e.startsWith("ssh://")||e.indexOf("/")>0);!t&&o.length>0&&(t=o[0]),t||(console.log("No URL argument provided. Checking existing git config..."),t=await c()),t||(console.error("\x1B[31m%s\x1B[0m","Error: Could not determine remote URL from arguments or existing config."),process.exit(1)),console.log(`Using Remote: ${t}`);try{let e=`rm -rf .git && git init . && git add -A && git commit --no-verify -am "woohoo" && git branch -M main && git remote add origin "${t}" && git push --all -f`,{stdout:n,stderr:r}=await i(e);console.log(n),r&&console.error(r)}catch(e){console.error("Execution failed:",e.message),process.exit(1)}})();
